(this["webpackJsonpsport-protocol"]=this["webpackJsonpsport-protocol"]||[]).push([[0],{23:function(e,t,a){e.exports=a(37)},28:function(e,t,a){},37:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(20),i=a.n(r),c=(a(28),a(1)),o=a(2),l=a(5),u=a(4),m=a(6),d=a(11),p=a(10),v=(a(29),a(13)),h=function e(t){Object(c.a)(this,e),this.name=void 0,this.uuid=void 0,this.name=t,this.uuid=v()},f=a(13),y=function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];Object(c.a)(this,e),this.name=void 0,this.uuid=void 0,this.players=void 0,this.name=t,this.uuid=f(),this.players=a},E=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).dependencies=void 0,a.dependencies=e.dependencies,a.state={teamName:void 0,players:void 0,redirect:void 0},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"saveTeam",value:function(){if(void 0!==this.state.players&&void 0!==this.state.teamName){var e;e=this.state.players.split(",").map((function(e){return new h(e)}));var t=new y(this.state.teamName,e);this.dependencies.database.saveObject(t,"teams"),this.setState({redirect:s.a.createElement(p.a,{to:"/"})})}}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"container"},this.state.redirect,s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("h1",{className:"mt-4"},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043a\u043e\u043c\u0430\u043d\u0434\u0443"),s.a.createElement("input",{type:"text",onChange:function(t){return e.setState({teamName:t.target.value})},placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",className:"form-control mt-4"}),s.a.createElement("input",{type:"text",onChange:function(t){return e.setState({players:t.target.value})},placeholder:"\u0418\u0433\u0440\u043e\u043a\u0438 (\u0447\u0435\u0440\u0435\u0437 \u0437\u0430\u043f\u044f\u0442\u0443\u044e)",className:"form-control mt-4"}),s.a.createElement("button",{className:"btn btn-primary mt-4",onClick:function(){return e.saveTeam()}},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"))))}}]),t}(s.a.Component),b=function(){function e(){Object(c.a)(this,e)}return Object(o.a)(e,[{key:"saveObject",value:function(e,t){var a=JSON.parse(localStorage.getItem(t)||"[]");a.push(e),localStorage.setItem(t,JSON.stringify(a))}},{key:"getCollection",value:function(e){return JSON.parse(localStorage.getItem(e)||"[]")}},{key:"getItemById",value:function(e,t){return JSON.parse(localStorage.getItem(e)||"[]").find((function(e){return e.uuid===t}))}},{key:"updateItemById",value:function(e,t,a){var n=JSON.parse(localStorage.getItem(e)||"[]"),s=n.find((function(e){return e.uuid===t}));if(void 0!==s){var r=n.indexOf(s);n[r]=a,localStorage.setItem(e,JSON.stringify(n))}}}]),e}(),g=function(){function e(){Object(c.a)(this,e)}return Object(o.a)(e,[{key:"authUser",value:function(e){return"admin"===e&&(sessionStorage.setItem("isLogged","true"),!0)}},{key:"isAuthorized",value:function(){return null!==sessionStorage.getItem("isLogged")}}]),e}(),N=function(){function e(t,a){Object(c.a)(this,e),this.database=void 0,this.authService=void 0,this.database=t,this.authService=a}return Object(o.a)(e,null,[{key:"makeDefaultDependencies",value:function(){return new e(new b,new g)}}]),e}(),T=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).dependencies=void 0,a.dependencies=e.dependencies,a.state={teams:[],sports:[],protocols:[],eventTypes:[]},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this.dependencies.database.getCollection("teams"),t=this.dependencies.database.getCollection("sports"),a=this.dependencies.database.getCollection("protocols"),n=this.dependencies.database.getCollection("eventTypes");this.setState({teams:e,sports:t,protocols:a,eventTypes:n})}},{key:"authenticate",value:function(){var e=prompt("\u041f\u0430\u0440\u043e\u043b\u044c");null!==e&&(this.dependencies.authService.authUser(e)?window.location.reload():alert("\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c!"))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},this.dependencies.authService.isAuthorized()?null:s.a.createElement("div",{className:"col-md-12"},s.a.createElement("button",{className:"btn btn-primary mt-4",onClick:this.authenticate.bind(this)},"\u0412\u043e\u0439\u0442\u0438")),s.a.createElement("div",{className:"col-md-12"},s.a.createElement("h1",{className:"mt-4"},"\u0412\u0438\u0434\u044b \u0441\u043f\u043e\u0440\u0442\u0430"),this.dependencies.authService.isAuthorized()?s.a.createElement("a",{className:"btn btn-primary mb-4",href:"/addSport"},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"):null,s.a.createElement("ul",{className:"list-group"},this.state.sports.map((function(t){return s.a.createElement("li",{key:t.uuid,className:"list-group-item d-flex justify-content-between"},t.name,e.dependencies.authService.isAuthorized()?s.a.createElement("a",{className:"btn btn-primary",href:"/protocols/create/"+t.uuid},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u0440\u043e\u0442\u043e\u043a\u043e\u043b"):null)})))),s.a.createElement("div",{className:"col-md-12"},s.a.createElement("h1",{className:"mt-4"},"\u041f\u0440\u043e\u0442\u043e\u043a\u043e\u043b\u044b"),s.a.createElement("ul",{className:"list-group"},this.state.protocols.map((function(e){return s.a.createElement("li",{key:e.uuid,className:"list-group-item d-flex justify-content-between"},e.date," - ",e.sport.name,s.a.createElement("a",{className:"btn btn-primary",href:"/protocols/"+e.uuid},"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440"))})))),s.a.createElement("div",{className:"col-md-12"},s.a.createElement("h1",{className:"mt-4"},"\u041a\u043e\u043c\u0430\u043d\u0434\u044b"),this.dependencies.authService.isAuthorized()?s.a.createElement("a",{className:"btn btn-primary mb-4",href:"/addTeam"},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"):null,s.a.createElement("ul",{className:"list-group"},this.state.teams.map((function(e){return s.a.createElement("li",{key:e.uuid,className:"list-group-item"},s.a.createElement("strong",null,e.name),s.a.createElement("br",null),"\u0418\u0433\u0440\u043e\u043a\u0438:\xa0",e.players.map((function(e){return s.a.createElement("span",{key:e.uuid},e.name,",")})))})))),s.a.createElement("div",{className:"col-md-12"},s.a.createElement("h1",{className:"mt-4"},"\u0422\u0438\u043f\u044b \u0441\u043e\u0431\u044b\u0442\u0438\u0439"),this.dependencies.authService.isAuthorized()?s.a.createElement("a",{className:"btn btn-primary mb-4",href:"/addEventType"},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"):null,s.a.createElement("ul",{className:"list-group mb-4"},this.state.eventTypes.map((function(e){return s.a.createElement("li",{key:e.uuid,className:"list-group-item"},e.name)}))))))}}]),t}(s.a.Component),O=a(13),j=function e(t){Object(c.a)(this,e),this.name=void 0,this.uuid=void 0,this.name=t,this.uuid=O()},S=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).dependencies=void 0,a.dependencies=e.dependencies,a.state={sportName:void 0,redirect:void 0},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"saveSport",value:function(){if(void 0!==this.state.sportName){var e=new j(this.state.sportName);this.dependencies.database.saveObject(e,"sports"),this.setState({redirect:s.a.createElement(p.a,{to:"/"})})}}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"container"},this.state.redirect,s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("h1",{className:"mt-4"},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0432\u0438\u0434 \u0441\u043f\u043e\u0440\u0442\u0430"),s.a.createElement("input",{type:"text",onChange:function(t){return e.setState({sportName:t.target.value})},placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",className:"form-control mt-4"}),s.a.createElement("button",{className:"btn btn-primary mt-4",onClick:function(){return e.saveSport()}},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"))))}}]),t}(s.a.Component),k=a(13),w=function e(t,a,n,s){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];Object(c.a)(this,e),this.uuid=void 0,this.sport=void 0,this.date=void 0,this.events=void 0,this.firstTeam=void 0,this.secondTeam=void 0,this.sport=t,this.date=a,this.firstTeam=n,this.secondTeam=s,this.events=r,this.uuid=k()},C=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).dependencies=void 0,a.dependencies=e.dependencies,a.state={sport:void 0,protocolDate:void 0,redirect:void 0,teams:[]},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.sportId;if(e){var t=this.dependencies.database.getItemById("sports",e);t||this.setState({redirect:s.a.createElement(p.a,{to:"/"})}),this.setState({sport:t})}else this.setState({redirect:s.a.createElement(p.a,{to:"/"})});var a=this.dependencies.database.getCollection("teams");this.setState({teams:a,firstTeam:a[0].uuid,secondTeam:a[0].uuid})}},{key:"saveProtocol",value:function(){var e=this;if(void 0!==this.state.protocolDate&&void 0!==this.state.sport&&void 0!==this.state.firstTeam&&void 0!==this.state.secondTeam){var t=this.state.teams.find((function(t){return t.uuid===e.state.firstTeam})),a=this.state.teams.find((function(t){return t.uuid===e.state.secondTeam}));if(void 0!==t&&void 0!==a){var n=new w(this.state.sport,this.state.protocolDate,t,a);this.dependencies.database.saveObject(n,"protocols"),this.setState({redirect:s.a.createElement(p.a,{to:"/"})})}}}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"container"},this.state.redirect,s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("h1",{className:"mt-4"},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u0440\u043e\u0442\u043e\u043a\u043e\u043b"),s.a.createElement("h3",null,"\u0414\u043b\u044f: ",this.state.sport?this.state.sport.name:null),s.a.createElement("input",{type:"date",onChange:function(t){return e.setState({protocolDate:t.target.value})},placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",className:"form-control mt-4"}),"\u041f\u0435\u0440\u0432\u0430\u044f \u043a\u043e\u043c\u0430\u043d\u0434\u0430:",s.a.createElement("br",null),s.a.createElement("select",{className:"form-control",value:this.state.firstTeam,onChange:function(t){return e.setState({firstTeam:t.target.value})}},this.state.teams.map((function(e){return s.a.createElement("option",{value:e.uuid},e.name)}))),"\u0412\u0442\u043e\u0440\u0430\u044f \u043a\u043e\u043c\u0430\u043d\u0434\u0430:",s.a.createElement("br",null),s.a.createElement("select",{className:"form-control",value:this.state.secondTeam,onChange:function(t){return e.setState({secondTeam:t.target.value})}},this.state.teams.map((function(e){return s.a.createElement("option",{value:e.uuid},e.name)}))),s.a.createElement("button",{className:"btn btn-primary mt-4",onClick:function(){return e.saveProtocol()}},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"))))}}]),t}(s.a.Component),I=a(13),D=function e(t,a,n,s){Object(c.a)(this,e),this.time=void 0,this.eventType=void 0,this.player1=void 0,this.player2=void 0,this.uuid=void 0,this.time=t,this.eventType=a,this.player1=n,this.player2=s,this.uuid=I()},x=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={statistic:void 0,eventTypes:[]},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"loadStatistic",value:function(){var e=this,t=this.props.protocol.events,a=new Map;t.map((function(t){if(!a.has(t.player1.uuid)){var n=new Map;n.set("name",t.player1.name),a.set(t.player1.uuid,n)}var s=a.get(t.player1.uuid);if(void 0===e.state.eventTypes.find((function(e){return e.uuid===t.eventType.uuid}))){var r=e.state.eventTypes;r.push(t.eventType),e.setState({eventTypes:r})}if(s.has(t.eventType.uuid)){var i=s.get(t.eventType.uuid);i.set("count",i.get("count")+1),s.set(t.eventType.uuid,i)}else{var c=new Map;c.set("name",t.eventType.name),c.set("count",1),s.set(t.eventType.uuid,c)}if(a.set(t.player1.uuid,s),void 0!==t.player2){if(!a.has(t.player2.uuid)){var o=new Map;o.set("name",t.player2.name),a.set(t.player2.uuid,o)}var l=a.get(t.player2.uuid);if(void 0===e.state.eventTypes.find((function(e){return e.uuid===t.eventType.uuid}))){var u=e.state.eventTypes;u.push(t.eventType),e.setState({eventTypes:u})}if(l.has(t.eventType.uuid)){var m=l.get(t.eventType.uuid);m.set("count",m.get("count")+1),l.set(t.eventType.uuid,m)}else{var d=new Map;d.set("name",t.eventType.name),d.set("count",1),l.set(t.eventType.uuid,d)}a.set(t.player2.uuid,l)}})),console.log(a),this.setState({statistic:a})}},{key:"componentDidMount",value:function(){this.loadStatistic()}},{key:"render",value:function(){var e=this;return void 0===this.state.statistic?s.a.createElement("span",null,"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."):s.a.createElement("table",{className:"table"},s.a.createElement("th",null,"\u0418\u0433\u0440\u043e\u043a"),this.state.eventTypes.map((function(e){return s.a.createElement("th",null,e.name)})),Array.from(this.state.statistic.values()).map((function(t){return s.a.createElement("tr",null,s.a.createElement("td",null,t.get("name")),e.state.eventTypes.map((function(e){if(t.has(e.uuid)){var a=t.get(e.uuid);if(void 0!==a)return s.a.createElement("td",null,a.get("count"))}return s.a.createElement("td",null,"-")})))})))}}]),t}(s.a.Component),M=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).dependencies=void 0,a.eventsMatrixRef=void 0,a.dependencies=e.dependencies,a.state={protocol:void 0,redirect:void 0,time:void 0,firstPlayer:void 0,secondPlayer:void 0,eventTypes:[],eventType:void 0},a.eventsMatrixRef=s.a.createRef(),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.loadProtocol();var e=this.dependencies.database.getCollection("eventTypes");this.setState({eventTypes:e,eventType:e[0].uuid})}},{key:"saveEvent",value:function(){var e=this;if(void 0!==this.state.protocol&&void 0!==this.state.eventType){var t=this.state.time,a=this.state.protocol.firstTeam.players.concat(this.state.protocol.secondTeam.players).find((function(t){return t.uuid===e.state.firstPlayer})),n=this.state.protocol.firstTeam.players.concat(this.state.protocol.secondTeam.players).find((function(t){return t.uuid===e.state.secondPlayer})),s=this.dependencies.database.getItemById("eventTypes",this.state.eventType);if(void 0!==a&&void 0!==t&&void 0!==s){var r=new D(t,s,a,n),i=this.state.protocol;i.events.push(r),this.dependencies.database.updateItemById("protocols",i.uuid,i),this.loadProtocol()}}}},{key:"loadProtocol",value:function(){var e=this.props.match.params.protocolId;if(e){var t=this.dependencies.database.getItemById("protocols",e);t||this.setState({redirect:s.a.createElement(p.a,{to:"/"})}),this.setState({protocol:t}),null!==this.eventsMatrixRef.current&&this.eventsMatrixRef.current.loadStatistic()}else this.setState({redirect:s.a.createElement(p.a,{to:"/"})})}},{key:"render",value:function(){var e=this;return void 0===this.state.protocol?s.a.createElement("span",null,"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430"):s.a.createElement("div",{className:"container"},this.state.redirect,s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("h1",{className:"mt-4"},this.state.protocol.date+" - "+this.state.protocol.sport.name),s.a.createElement("h3",null,this.state.protocol.firstTeam.name+" vs "+this.state.protocol.secondTeam.name),s.a.createElement("strong",{className:"mt-4"},"\u0421\u043e\u0431\u044b\u0442\u0438\u044f:"),s.a.createElement("br",null),s.a.createElement("table",{className:"table"},s.a.createElement("tr",null,s.a.createElement("th",null,"\u0412\u0440\u0435\u043c\u044f"),s.a.createElement("th",null,"\u0418\u0433\u0440\u043e\u043a 1"),s.a.createElement("th",null,"\u0418\u0433\u0440\u043e\u043a 2"),s.a.createElement("th",null,"\u0422\u0438\u043f \u0441\u043e\u0431\u044b\u0442\u0438\u044f")),this.state.protocol.events.map((function(e){return s.a.createElement("tr",{key:e.uuid},s.a.createElement("td",null,e.time),s.a.createElement("td",null,e.player1.name),s.a.createElement("td",null,e.player2?e.player2.name:"-"),s.a.createElement("td",null,e.eventType.name))}))),s.a.createElement("hr",null),this.dependencies.authService.isAuthorized()?s.a.createElement("div",null,s.a.createElement("strong",null,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u0431\u044b\u0442\u0438\u0435"),s.a.createElement("div",{className:"form-inline"},s.a.createElement("input",{type:"text",className:"form-control",placeholder:"\u0412\u0440\u0435\u043c\u044f (\u043c\u0438\u043d\u0443\u0442\u044b)",onChange:function(t){return e.setState({time:Number(t.target.value)})}}),s.a.createElement("select",{value:this.state.firstPlayer,onChange:function(t){return e.setState({firstPlayer:t.target.value})},className:"form-control ml-1"},s.a.createElement("option",{selected:!0,disabled:!0},"\u0418\u0433\u0440\u043e\u043a 1"),s.a.createElement("optgroup",{label:this.state.protocol.firstTeam.name},this.state.protocol.firstTeam.players.map((function(e){return s.a.createElement("option",{value:e.uuid},e.name)}))),s.a.createElement("optgroup",{label:this.state.protocol.secondTeam.name},this.state.protocol.secondTeam.players.map((function(e){return s.a.createElement("option",{value:e.uuid},e.name)})))),s.a.createElement("select",{value:this.state.secondPlayer,onChange:function(t){return e.setState({secondPlayer:t.target.value})},className:"form-control ml-1"},s.a.createElement("option",{selected:!0,disabled:!0},"\u0418\u0433\u0440\u043e\u043a 2"),s.a.createElement("option",{value:void 0},"-"),s.a.createElement("optgroup",{label:this.state.protocol.firstTeam.name},this.state.protocol.firstTeam.players.map((function(e){return s.a.createElement("option",{value:e.uuid},e.name)}))),s.a.createElement("optgroup",{label:this.state.protocol.secondTeam.name},this.state.protocol.secondTeam.players.map((function(e){return s.a.createElement("option",{value:e.uuid},e.name)})))),s.a.createElement("select",{value:this.state.eventType,onChange:function(t){return e.setState({eventType:t.target.value})},className:"form-control ml-1"},this.state.eventTypes.map((function(e){return s.a.createElement("option",{value:e.uuid},e.name)}))),s.a.createElement("button",{onClick:function(){return e.saveEvent()},className:"btn btn-primary ml-1"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"))):null,s.a.createElement("hr",null),s.a.createElement("h2",null,"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430"),s.a.createElement("div",null,s.a.createElement("strong",null,"\u0412\u0441\u0435\u0433\u043e \u0441\u043e\u0431\u044b\u0442\u0438\u0439:")," ",this.state.protocol.events.length),s.a.createElement("div",null,s.a.createElement("strong",null,"\u0412\u0440\u0435\u043c\u044f \u043f\u0435\u0440\u0432\u043e\u0433\u043e \u0441\u043e\u0431\u044b\u0442\u0438\u044f:"),"\xa0",this.state.protocol.events.sort((function(e,t){return e.time<t.time?-1:1}))[0].time),s.a.createElement("div",null,s.a.createElement("strong",null,"\u041f\u0435\u0440\u0432\u043e\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u0435:"),"\xa0",this.state.protocol.events.sort((function(e,t){return e.time<t.time?-1:1}))[0].eventType.name),s.a.createElement("div",null,s.a.createElement("strong",null,"\u0412\u0440\u0435\u043c\u044f \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u0433\u043e \u0441\u043e\u0431\u044b\u0442\u0438\u044f:"),"\xa0",this.state.protocol.events.sort((function(e,t){return e.time>t.time?-1:1}))[0].time),s.a.createElement("div",null,s.a.createElement("strong",null,"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u0435:"),"\xa0",this.state.protocol.events.sort((function(e,t){return e.time>t.time?-1:1}))[0].eventType.name),s.a.createElement("strong",null,"\u041c\u0430\u0442\u0440\u0438\u0446\u0430 \u0441\u043e\u0431\u044b\u0442\u0438\u0439"),s.a.createElement(x,{ref:this.eventsMatrixRef,protocol:this.state.protocol}))))}}]),t}(s.a.Component),P=a(13),A=function e(t){Object(c.a)(this,e),this.name=void 0,this.uuid=void 0,this.name=t,this.uuid=P()},z=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).dependencies=void 0,a.dependencies=e.dependencies,a.state={name:void 0},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"saveEventType",value:function(){if(void 0!==this.state.name){var e=new A(this.state.name);this.dependencies.database.saveObject(e,"eventTypes"),this.setState({redirect:s.a.createElement(p.a,{to:"/"})})}}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"container"},this.state.redirect,s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("h1",{className:"mt-4"},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0442\u0438\u043f \u0441\u043e\u0431\u044b\u0442\u0438\u044f"),s.a.createElement("input",{type:"text",onChange:function(t){return e.setState({name:t.target.value})},placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",className:"form-control mt-4"}),s.a.createElement("button",{className:"btn btn-primary mt-4",onClick:function(){return e.saveEventType()}},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"))))}}]),t}(s.a.Component),B=function(){function e(){Object(c.a)(this,e)}return Object(o.a)(e,null,[{key:"seedDefaults",value:function(e){if(null===localStorage.getItem("isFirstLaunch")){["\u0424\u0443\u0442\u0431\u043e\u043b","\u0411\u0430\u0441\u043a\u0435\u0442\u0431\u043e\u043b"].map((function(t){var a=new j(t);e.database.saveObject(a,"sports")})),["\u0413\u043e\u043b","\u041f\u0430\u0441","\u0411\u0440\u043e\u0441\u043e\u043a","\u0424\u043e\u043b","\u041a\u0430\u0440\u0442\u043e\u0447\u043a\u0430"].map((function(t){var a=new A(t);e.database.saveObject(a,"eventTypes")}));var t=[new h("\u0418\u0432\u0430\u043d\u043e\u0432"),new h("\u0421\u0438\u0434\u043e\u0440\u043e\u0432")],a=new y("\u0421\u043e\u043b\u043d\u044b\u0448\u043a\u0438",t);e.database.saveObject(a,"teams"),t=[new h("\u041f\u0435\u0442\u0440\u043e\u0432"),new h("\u0421\u043e\u043a\u043e\u043b\u043e\u0432")],a=new y("\u0417\u0430\u0439\u0447\u0438\u043a\u0438",t),e.database.saveObject(a,"teams"),localStorage.setItem("isFirstLaunch","false")}}}]),e}(),J=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this,{}))).appDependency=void 0,e.appDependency=N.makeDefaultDependencies(),B.seedDefaults(e.appDependency),e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"App"},s.a.createElement(d.a,null,this.appDependency.authService.isAuthorized()?s.a.createElement(p.d,null,s.a.createElement(p.b,{path:"/addTeam"},s.a.createElement(E,{dependencies:this.appDependency})),s.a.createElement(p.b,{path:"/addSport"},s.a.createElement(S,{dependencies:this.appDependency})),s.a.createElement(p.b,{path:"/addEventType"},s.a.createElement(z,{dependencies:this.appDependency})),s.a.createElement(p.b,{path:"/protocols/create/:sportId",render:function(t){return s.a.createElement(C,Object.assign({},t,{dependencies:e.appDependency}))}}),s.a.createElement(p.b,{path:"/protocols/:protocolId",render:function(t){return s.a.createElement(M,Object.assign({},t,{dependencies:e.appDependency}))}}),s.a.createElement(p.b,{path:"/"},s.a.createElement(T,{dependencies:this.appDependency}))):s.a.createElement(p.d,null,s.a.createElement(p.b,{path:"/protocols/:protocolId",render:function(t){return s.a.createElement(M,Object.assign({},t,{dependencies:e.appDependency}))}}),s.a.createElement(p.b,{path:"/"},s.a.createElement(T,{dependencies:this.appDependency})))))}}]),t}(s.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(s.a.createElement(J,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[23,1,2]]]);
//# sourceMappingURL=main.fc2e8aa0.chunk.js.map